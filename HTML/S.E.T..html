<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>S.E.T. â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        table { border: 6px solid black; }
        td {
            border: 4px solid black;
            text-align: center;
            width: 150px;
            height: 150px;
            padding: 0;
        }
        td.setsq svg {
            height: 90px;
            display: block;
            margin: 0 auto;
        }
        caption {
            font-weight: normal;
            caption-side: bottom;
        }
        .dark td.setsq svg { filter: invert(87%); }
    </style>
    <script>
        let symbolsD = [
            { "d": "M 58.480762,47.500774 A 30,30 0 0 1 24.735429,61.478549 30,30 0 0 1 2.5,32.500774 30,30 0 0 1 24.735428,3.5229998 30,30 0 0 1 58.480762,17.500774 l -25.980762,15 z", "h": 65.0015, "w": 61.8958 },
            { "d": "m 10.526445,2.6938003 a 10,10 0 0 0 -6.3593698,4.259766 10,10 0 0 0 2.77344,13.8671867 L 24.460045,32.500441 6.9405152,44.180128 a 10,10 0 0 0 -2.77344,13.867188 10,10 0 0 0 13.8671898,2.773437 l 24.45312,-16.302734 24.45312,16.302734 a 10,10 0 0 0 13.86719,-2.773437 10,10 0 0 0 -2.77344,-13.867188 L 60.514725,32.500441 78.034255,20.820753 A 10,10 0 0 0 80.807695,6.9535663 10,10 0 0 0 66.940505,4.1801283 L 42.487385,20.482863 18.034265,4.1801283 a 10,10 0 0 0 -7.50782,-1.486328 z", "h": 64.9878, "w": 84.9748 },
            { "d": "M 4.6712927,64.506939 44.671293,4.5069391 l 40,59.9999999 z", "h": 67.0069, "w": 89.3426 },
            { "d": "M 4.6712927,64.506939 H 31.671293 l 13,-19.5 13,19.5 h 27 l -40,-59.9999999 z", "h": 67.0069, "w": 89.3426 },
            { "d": "m 2.5,2.5 v 30 h 20 v 30 h 40 v -30 h 20 v -30 h -30 a 10,10 0 0 1 -10,10 10,10 0 0 1 -10,-10 z", "h": 65, "w": 85 },
            { "d": "m 26.653624,63.321921 h 40 v -25 h 20 l -40,-35.0000004 L 6.6536235,38.321921 H 26.653624 Z", "h": 65.8219, "w": 93.3072 },
            { "d": "m 44.166667,3.125 40,30 -40,30 -40.0000003,-30 z", "h": 66.25, "w": 88.3333 },
            { "d": "m 2.5,2.5 h 30 v 20 h 20 v -20 h 30 v 60 h -30 v -20 h -20 v 20 h -30 z", "h": 65, "w": 85 },
            { "d": "m 40.310398,6.4895067 8.20374,19.6516563 24.19799,0.658725 -19.12781,12.804115 6.75145,20.058771 -20.02537,-11.738279 -20.02536,11.738278 6.75145,-20.05877 L 7.9086783,26.799886 32.106668,26.141162 Z", "h": 65.1991, "w": 80.6208 },
            { "d": "m 2.5,2.5 h 70 v 60 h -70 z", "h": 65, "w": 75 },
            { "d": "m 2.5,62.5 v -30 c 0,-16.568542 13.4315,-30 30,-30 16.5685,0 30,13.431458 30,30 v 30 z", "h": 65, "w": 65 },
            { "d": "m 32.5,2.5 c -16.5685,0 -30,8.95431 -30,20 5e-4,8.4754 8.014,16.03034 20,18.85547 V 52.5 c 0,5.52285 4.4772,10 10,10 5.5228,0 10,-4.47715 10,-10 V 41.35547 C 54.486,38.53034 62.4995,30.9754 62.5,22.5 c 0,-11.04569 -13.4315,-20 -30,-20 z", "h": 65, "w": 65 },
            { "d": "m 42.5782,62.5 q 0,-1.491396 -2.5097,-3.441683 Q 37.5588,57.108031 31.8331,53.494264 23.3627,48.217018 17.4019,43.628107 11.441,39.039198 6.9705,32.672085 2.5,26.304972 2.5,18.847993 2.5,15.004781 4.4606,11.276291 6.4215,7.49044 10.7351,5.023901 15.0489,2.5 21.5587,2.5 q 4.2353,0 8.3921,1.26195 4.2353,1.261951 7.4511,3.613767 3.2939,2.294456 4.7842,5.334608 h 0.7843 Q 44.3037,9.61281 47.3627,7.318356 50.5,5.023901 54.5782,3.76195 58.7351,2.5 63.1273,2.5 q 7.2157,0 11.5293,2.466539 4.3923,2.46654 6.1177,6.195029 1.7256,3.671128 1.7256,7.686425 0,7.456979 -4.4706,13.824092 -4.4706,6.367113 -10.4314,10.956022 -5.8824,4.531549 -14.2745,9.866157 -5.7255,3.613767 -8.2352,5.564053 -2.51,1.950287 -2.51,3.441683 z", "h": 62.6113, "w": 84.9999 },
            { "d": "m 32.5,2.5 a 30,30 0 0 0 -30,30 30,30 0 0 0 30,30 30,30 0 0 0 30,-30 30,30 0 0 0 -30,-30 z m 0,20 a 10,10 0 0 1 10,10 10,10 0 0 1 -10,10 10,10 0 0 1 -10,-10 10,10 0 0 1 10,-10 z", "h": 65, "w": 65 },
            { "d": "m 41.727277,4.0373386 12.2101,15.4833994 24.379,0.01745 -12.1689,15.500842 12.1689,15.500843 -24.379,0.01745 -12.2101,15.483395 L 29.517077,50.557319 5.1380771,50.539869 17.306977,35.039027 5.1380771,19.538184 29.517077,19.520734 Z", "h": 70.0781, "w": 83.4545 },
            { "d": "m 50.5,2.5 c -26.5097,0 -48,13.431458 -48,30 0,16.568542 21.4903,30 48,30 H 82.4999 A 47.999944,30 0 0 1 34.5,32.5 47.999944,30 0 0 1 82.4999,2.5 Z", "h": 65, "w": 82.4999 },
            { "d": "m 42.5,2.5 a 10,10 0 0 0 -10,10 v 10 h -20 a 10,10 0 0 0 -10,10 10,10 0 0 0 10,10 h 20 v 10 a 10,10 0 0 0 10,10 10,10 0 0 0 10,-10 v -10 h 20 a 10,10 0 0 0 10,-10 10,10 0 0 0 -10,-10 h -20 v -10 a 10,10 0 0 0 -10,-10 z", "h": 65, "w": 85 },
            { "d": "m 2.5,2.5 v 60 h 20 v -60 z m 40,0 v 60 h 20 v -60 z", "h": 65, "w": 65 }
        ];
        function setRules(rnd)
        {
            let syms = symbolsD.slice(0);
            rnd.shuffleFisherYates(syms);
            setSymbols(syms);
        }

        function setDefaultRules()
        {
            setSymbols(symbolsD.slice(0, 9));
        }

        function setSymbols(symbols)
        {
            var tds = Array.from(document.querySelectorAll('td.setsq'));
            for (let i = 0; i < 9; i++)
                tds[i].innerHTML = `<svg viewBox='0 0 ${symbols[i].w} ${symbols[i].h}'>
                    <path d='${symbols[i].d}' fill='none' stroke='#000' stroke-width='4.5' />
                </svg>`;
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">S.E.T.</span>
            </div>
            <div class="page-content">
                <img class="diagram" src="img/Component/S.E.T..svg">
                <h2>On the Subject of S.E.T.</h2>

                <p class="flavour-text">Modules based on card games seem to be a thing now.</p>

                <ul>
                    <li>The module presents a keypad with mysterious symbols.</li>
                    <li>
                        A S.E.T. (Strangely Elusive Triplet) is a set of three
                        symbols that satisfies <em>all four</em> of the following conditions:
                        <ul>
                            <li>The symbols have <em>the same shading</em> or <em>all different shadings</em> (filled, wavy-patterned and empty).</li>
                            <li>The symbols have <em>the same quantity of dots</em> or <em>all different quantities of dots</em> (0, 1 and 2).</li>
                            <li>The symbols can be found in <em>all the same row</em> or <em>all different rows</em> in Table 1.</li>
                            <li>The symbols can be found in <em>all the same column</em> or <em>all different columns</em> in Table 1.</li>
                        </ul>
                    </li>
                    <li>The symbols on the keypad contain a single S.E.T. consisting of three symbols. Press those symbols (in no particular order).</li>
                </ul>
                <table class="centered">
                    <caption>Table 1</caption>
                    <tr>
                        <td class='setsq'></td>
                        <td class='setsq'></td>
                        <td class='setsq'></td>
                    </tr>
                    <tr>
                        <td class='setsq'></td>
                        <td class='setsq'></td>
                        <td class='setsq'></td>
                    </tr>
                    <tr>
                        <td class='setsq'></td>
                        <td class='setsq'></td>
                        <td class='setsq'></td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 1 of 1</div>
        </div>
    </div>
</body>
</html>